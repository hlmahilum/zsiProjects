var ud="undefined",isUD=function(e){return typeof e===ud},zsi={__getTableObject:function(e){var t=zsi.__tableObjectsHistory,a={};if(e.attr("id"))for(var n=0;n<t.length;n++)if(t[n].tableName.toLowerCase()===e.attr("id").toLowerCase()){a=t[n];break}return a.value},__initFormAdjust:function(){$(".form-group .glyphicon-search").length>0&&($(document.body).css("margin-left","10px"),$(document.body).css("margin-right","10px"))},__initTabNavigation:function(){$(".nav-tabs li").each(function(){$(this).click(function(){$(".nav-tabs li").removeClass("active"),$(this).addClass("active");var e=$(this).children("a")[0];$("#p_tab").val(e.id);var t=$(".tab-pages #"+e.id);t.parent().children().each(function(){$(this).removeClass("active")}),t.addClass("active")})})},__monitorAjaxResponse:function(){function e(){setTimeout(function(){typeof zsi_request_count!==ud&&zsi_request_count<=0&&(zsi.ShowHideProgressWindow(!1),zsi_request_count=0)},100)}$(document).ajaxStart(function(){}),$(document).ajaxSend(function(e,t,a){typeof zsi_request_count===ud&&(zsi_request_count=0);for(var n=zsi.config.excludeAjaxWatch,o=0;o<n.length;o++)if(zsi.strExist(a.url,n[o]))return;zsi_request_count++,zsi.ShowHideProgressWindow(!0)}),$(document).ajaxComplete(function(t,a,n){typeof zsi_request_count!==ud&&--zsi_request_count<=0&&e()}),$(document).ajaxSuccess(function(e,t,a){}),$(document).ajaxError(function(t,a,n){var o=typeof zsi.config.errorUpdateURL!==ud?zsi.config.errorUpdateURL:"",i="No error URL found. Error not submitted.",s={};return s.event=t,s.request=a,s.settings=n,e(),o&&zsi.strExist(n.url,o)?(console.log("url: "+n.url),!1):(typeof zsi.config.sqlConsoleName===ud||!zsi.strExist(n.url,zsi.config.sqlConsoleName))&&void(""===a.responseText?(console.log("zsi.Ajax.Request Status = %cNo Data (warning!) %c, url: "+n.url,"color:orange;","color:#000;"),""===o?console.log(i):$.post(o,{p:"error_logs_upd @error_type='W' @error_msg='No Response Data' @page_url='"+escape(n.url)+"'"},function(){console.log("Warning submited.")})):(console.log("zsi.Ajax.Request Status = Failed %c, url: "+n.url,"color:red;","color:#000;"),console.log(s),n.retryCounter||(n.retryCounter=0),++n.retryCounter<=0&&setTimeout(function(){console.log("retry#:"+n.retryCounter),$.ajax(n)},1e3),n.retryCounter>0&&(console.log("retry limit is reached"),""===o?(console.log(i),zsi.ShowErrorWindow()):$.post(o,{p:"error_logs_upd @error_type='E',@error_msg='"+escape(a.responseText)+"',@page_url='"+escape(n.url)+"'"},function(){console.log("Error submited."),zsi.ShowErrorWindow()}))))})},__setExtendedJqFunctions:function(){$.loadData=function(e){if(typeof zsi.config.getDataURL!==ud){var t={dataType:"json",cache:!1,success:e.onComplete};t.type=typeof e.type===ud?"POST":"GET",t.url=zsi.config.getDataURL,typeof e.data!==ud&&(t.data=JSON.stringify(e.data)),$.ajax(t)}else alert("zsi.config.getDataURL is not defined in AppStart JS.")},$.fn.addClickHighlight=function(){var e=this.find("tbody > tr");return e.unbind("click"),e.click(function(){e.removeClass("active"),$(this).addClass("active")}),this},$.fn.center=function(){return this.css("position","fixed"),this.css("top",Math.max(0,($(window).height()-$(this).outerHeight())/2+$(window).scrollTop())+"px"),this.css("left",Math.max(0,($(window).width()-$(this).outerWidth())/2+$(window).scrollLeft())+"px"),this},$.fn.centerWidth=function(){return this.css("position","fixed"),this.css("left",Math.max(0,($(window).width()-$(this).outerWidth())/2+$(window).scrollLeft())+"px"),this},$.fn.checkValueExists=function(e){var t=this,a="zDataExist",n="data already exist",o=1500;isUD(e.keyInputDelay)||(o=e.keyInputDelay),$("."+a).remove(),e.message&&(n=e.message);var i='<div class="'+a+'">'+n+".</div>";$("body").append(i);var s=$("."+a);isUD(e.isNotExistShow)&&(e.isNotExistShow=!1),typeof t.tmr===ud&&(t.tmr=null),this.on("keyup change",function(){var n=$(this);if(""===$.trim(this.value))return s.hide(),!1;var i=$.trim(this.value);zsi.timer&&clearTimeout(zsi.timer),zsi.timer=setTimeout(function(){var o={left:n.offset().left,top:n.offset().top-s.innerHeight()-3,onHide:function(){n.val(""),isUD(e.onHide)||e.onHide(n.closest(".zRow"))}};if(e.time&&(o.time=e.time),!1===e.isNotExistShow&&t.length>0){for(var r=t.index(n),l=0;l<t.length;l++){var d=t[l];r!==l&&""!==$.trim(d.value)&&d.value.toLowerCase()===i.toLowerCase()&&$("."+a).css({"z-index":zsi.getHighestZindex()+1}).showAlert(o)}n.removeClass("loadIconR")}if(!isUD(e.isCheckOnDb)&&0==e.isCheckOnDb)return t;n.addClass("loadIconR"),$.getJSON(base_url+"sql/exec?p="+(typeof e.procedureName!==ud?e.procedureName:"checkValueExists")+" @code='"+e.code+"',@colName='"+e.colName+"',@keyword='"+i+"'",function(t){n.removeClass("loadIconR"),t.rows[0].isExists.toUpperCase()===(e.isNotExistShow?"N":"Y")&&$("."+a).css({"z-index":zsi.getHighestZindex()+1}).showAlert(o)})},o)})},$.fn.clearGrid=function(){this.find(".zGridPanel").length>0?this.find(".zGridPanel .zRows #table").html(""):$(this).children("tbody").html("")},$.fn.clearSelect=function(e,t){var a=t||"";this.html(e?"<option>"+a+"</option>":a)},$.fn.createZoomCtrl=function(e){this.zmVal=1;var t=this,a=function(a){t.css({transform:"scale("+(t.zmVal=a?t.zmVal+.1:t.zmVal-.1,t.zmVal)+")"}),e.onChange&&e.onChange(t.closest(".imgFrame"))},n=this.parent();n.append('<div class="zoomCtrl"><button id="zoomIn" type="button" class="btn btn-default btn-sm" ><span class="glyphicon glyphicon-zoom-in" aria-hidden="true"> </span></button><button id="zoomOut" type="button" class="btn btn-default btn-sm" ><span class="glyphicon glyphicon-zoom-out" aria-hidden="true"></span></button></div>');n.find("#zoomIn,#zoomOut").click(function(){a("zoomin"===this.id.toLowerCase()?!0:!1)});return this},$.fn.dataBind=function(){var e=arguments,t=e[0];if(this.hasClass("zGrid"))return $(this).dataBindGrid(t);if("string"==typeof e[0]){var a=zsi.config.baseURL;(t={}).url=(a||"/")+"selectoption/code/"+e[0],typeof e[1]!==ud&&(t.onComplete=e[1])}var n=this;return $.getJSON(t.url,function(e){var a={data:e.rows,selectedValue:t.selectedValue,isRequired:t.required,onComplete:t.onComplete,onChange:t.onChange};typeof t.text!==ud&&typeof t.value!==ud&&(a.text=t.text,a.value=t.value),n.fillSelect(a),!0===t.isUniqueOptions&&n.setUniqueOptions()}),this},$.fn.dataBind2=function(){var e,t,a=this.attr("name")+"_ddl",n="#"+a;$("body").append('<select id="'+a+'" class="zDDList" size="15" ></select>');var o=arguments,i=o[0];"string"==typeof o[0]&&((i={}).url=zsi.config.baseURL+"selectoption/code/"+o[0],typeof o[1]!==ud&&(i.onComplete=o[1]));return typeof i.url!==ud&&$.getJSON(i.url,function(e){var t={data:e.rows,selectedValue:i.selectedValue,isRequired:i.required,onComplete:i.onComplete};typeof i.text!==ud&&typeof i.value!==ud&&(t.text=i.text,t.value=i.value);var a=15;e.rows.length<a+1&&(a=e.rows.length+1),$(n).attr({size:a}).fillSelect(t)}),this.parent().find(".zDdlBtn").click(function(){var a=$(this).parent();if(e=a.find(":hidden"),t=a.find("#text"),_select=$(n),_select.val(e.val()),typeof i.onClick!==ud&&i.onClick($(this.parentNode),e,_select),_select.find("option").length>0){_select.css({display:"block",top:a.offset().top+a.innerHeight(),left:a.offset().left}).focus(),_select.outerWidth()<a.outerWidth()&&_select.css({width:a.outerWidth()});var o=_select.find('[value="'+e.val()+'"]');if(o.length>0){var s=o.offset().top,r=_select.offset().top;_select.scrollTop(_select.scrollTop()+(s-r))}else _select.scrollTop(0)}}),$(n).unbind().click(function(){var a=$(this);e.val(a.val()),t.html(a.find("option:selected").text()),a.css({display:"none"})}).keyup(function(e){"13"==(e.keyCode?e.keyCode:e.which)&&$(this).css({display:"none"})}),$(document).on("wheel mouseup",function(e){var t=$(".zDDList");t.is(e.target)||0!==t.has(e.target).length||t.hide()}),this},$.fn.dataBindGrid=function(e){this.arrowUp='<span class="arrow-up"></span>',this.arrowDown='<span class="arrow-down"></span>',this.arrows=this.arrowUp+this.arrowDown,this.clsPanelR=".right",this.clsPanelL=".left",this.setPageCtrl=function(e,t){var n,o=$(this),i=function(e,t){for(var a="",i=1;i<=t;i++)a+="<option value='"+i+"'>"+i+"</option>";n=o.find("#pageNo").html(a),o.find("#recordsNum").html(e.length),o.find("#of").html("of "+t)};i(t.rows,t.returnValue),n.change(function(){a.pageParams=",@pno="+this.value,a.params.url&&(a.params.url=a.url+a.pageParams+(typeof a.sortParams!==ud?a.sortParams:"")),a.dataBindGrid(a.params)}),o.find("#rpp").keyup(function(t){"13"==(t.keyCode?t.keyCode:t.which)&&(e.rowsPerPage=this.value,a.params.url&&(a.params.url=a.url+(typeof a.pageParams!==ud?a.pageParams:"")+(typeof a.sortParams!==ud?a.sortParams:"")),a.params.callBack=function(e){i(e.data.rows,e.data.returnValue),a.params.callBack=null},a.dataBindGrid(a.params))})},this.onRequestDone=function(e){var t=this.children(".zGridPanel.left"),a=this.children(".zGridPanel.right");this.left={panel:t,rows:t.find(".zRows")},this.right={panel:a,rows:a.find(".zRows")},e.params.onComplete&&(this.__onComplete=e.params.onComplete,this.__onComplete(e)),e.params.callBack&&e.params.callBack(e)},this.setColumnResize=function(){var e=this;(isUD(e.params.resizable)||!1!==e.params.resizable)&&($(".zHeaders .item .cr").unbind("mousedown").on("mousedown",function(e){var t=$(e.target).parent();if(t.hasClass("group0")){var a=t.find(".groupItem");t=$(a[a.length-1])}zsi.tableResize={curCol:t,curLastWidth:parseFloat(t.css("width")),hdrLastWidth:parseFloat(t.closest(".zHeaders").css("width")),tblLastWidth:parseFloat(t.closest(".zGridPanel").find("#table").css("width")),nextLastWidth:parseFloat(t.next().css("width")),lastX:e.clientX}}),$(document).on("mousemove",function(t){if(typeof zsi.tableResize!==ud&&null!==zsi.tableResize){var a=zsi.tableResize;if(e.is(a.curCol.closest(".zGrid"))){var n=-1,o=a.curCol.closest(".group0");if(o.length>0)for(var i=o.parent().find(".groupItem"),s=0;s<i.length&&($(i[s]).hasClass("group0")||(n++,!a.curCol.is(i[s])));s++);var r=o.length>0?n:a.curCol.index(),l=t.clientX-a.lastX,d=a.curCol.closest(".zGridPanel").find(".zRows").eq(0),c=e.params.dataRows;if(!(a.curLastWidth+l<25)){a.curCol.css({width:a.curLastWidth+l}),l>0&&a.curCol.closest(".zHeaders").css({width:a.hdrLastWidth+l});var u=function(e){for(var t=[],a=0;a<e.length;a++)$(e[a]).closest(".zRows").is(d)&&t.push(e[a]);return $(t)}(d.find("#table > .zRow > .zCell:nth-child("+(r+1)+")"));u.css({width:a.curLastWidth+l}),u.parent().parent().css({width:a.tblLastWidth+l}),c[r]&&(c[r].width=a.curLastWidth+l)}}}}).on("mouseup",function(e){zsi.tableResize=null}))};var t,a=this,n=e,o=0,s=0,r=0,l=0,d=(e.dataRows,[]),c=[],u=[],p=!1,f=zsi.bs.ctrl,h=zsi.setValIfNull,v=function(){a.find("div[id='table']").html("")},m=function(e){0!==e.headers.length&&(e.headers.html(b(e.dataTable,e.startGroupId)),p&&e.headers.append("<div>&nbsp;</div"),e.headers.find(".item .zSort a").click(function(){var n=$(this),o=n.attr("sortColNo"),i=0,s=n.attr("class");a.left=t.offset().left-r,a.find(".sPane").html(a.arrows),a.find(".zSort a").removeAttr("class"),n.addClass(s),typeof n.attr("class")===ud&&n.addClass("desc"),n.attr("class").indexOf("asc")>-1?(n.removeClass("asc"),n.addClass("desc"),n.find(".sPane").html(a.arrowDown),i=1):(n.removeClass("desc"),n.addClass("asc"),n.find(".sPane").html(a.arrowUp),i=0),a.sortParams=",@col_no="+o+",@order_no="+i,a.params.url&&(a.params.url=a.url+a.sortParams+(typeof a.pageParams!==ud?a.pageParams:"")),e.onSortClick?e.onSortClick(o,i):a.dataBindGrid(a.params)}),(p||e.width>n.width)&&e.headers.css("width",e.width+20+"px"),n.width&&e.table.css("width",e.width+1+"px"))},g=function(e){if(!("Y"===e.panelType&&c.length>0)){var t="R"===e.panelType?d:c,o="R"===e.panelType?a.find(a.clsPanelR).find("#table"):a.find(a.clsPanelL).find("#table"),i="";i+="<div rowObj class='zRow "+e.rowClass+"'>";for(var s=0;s<t.length;s++){var r="",l="",u="",v=null===e.data?" no-data ":"",m=t[s];e.data&&(e.data.td={},e.data.recordIndex=e.index),m.onRender?r=m.onRender(e.data):(r=typeof m.type===ud?"<span class='text'>"+h(e.data,m.name)+"</span>":f(typeof m.displayText!==ud?{name:m.name,style:m.style,type:m.type,value:h(e.data,m.name,m.defaultValue),displayText:h(e.data,m.displayText)}:{name:m.name,style:m.style,type:m.type,value:h(e.data,m.name,m.defaultValue)}),0!==s&&s!==n.selectorIndex||typeof n.selectorType!==ud&&(r+=null!==e.data?f({name:"checkbox"===n.selectorType?"cb":"radio"===n.selectorType?"rad":"ctrl",type:n.selectorType}):"")),e.data&&(l=typeof e.data.td.attr===ud?"":" "+e.data.td.attr,u=typeof e.data.td.class===ud?"":" "+e.data.td.class,typeof e.data.td.style===ud?"":' style="'+e.data.td.style+'"'),u+=typeof m.class!==ud?" "+m.class:"",((typeof m.groupId!==ud?m.groupId:0)>0||m.onRender||!1===p)&&(i+='<div class="zCell'+v+u+'"  '+l+' style="width:'+t[s].width+"px;"+t[s].style+'" >'+r+"</div>")}i+="</div>","R"!==e.panelType||isUD(n.toggleMasterKey)||(i+='<div id="childPanel'+h(e.data,n.toggleMasterKey)+'" class="zExtraRow"><div class="zGrid"></div></div>'),o.append(i);var g=$("div[rowObj]");g.removeAttr("rowObj"),isUD(n.onEachComplete)||(g.__onEachComplete=n.onEachComplete,g.__onEachComplete(e))}},y=function(){var e=a.find(".zRow");e.click(function(){var t=$(this).index();e.removeClass("active"),a.find(".zRow:nth-child("+(t+1)+")").addClass("active")}),e.find("select, input").on("keyup change",function(){$(this).closest(".zRow").find("#is_edited").val("Y")})},w=function(){t.parent().scroll(function(){var e=t.offset().left,a=t.offset().top,n=$(t.closest(".right").find(".zHeaders")[0]),o=$(this).closest(".right").prev().find("#table");n.offset({left:e}),o.offset({top:a})})},b=function(t,a){return function(t,a){for(var n="",o=0;o<t.length;o++)if(typeof t[o].groupId===ud||t[o].groupId==a){var i=typeof t[o].sortColNo!==ud,s="",r="",l=typeof t[o].groupId!==ud?" group"+t[o].groupId:"",d=typeof t[o].class!==ud?" "+t[o].class:"",c=typeof t[o].id!==ud?'id="'+t[o].id+'"':"",u=typeof t[o].id!==ud?'id="title'+t[o].id+'"':"",f=p?" groupItem":"";typeof t[o].width!==ud&&(s='style="width:'+t[o].width+"px;"+t[o].style+'"',r='style="'+t[o].style+'"'),n+="<div "+c+" class='item"+f+l+d+"' "+s+">",n+="<div "+u+" class='title"+(i?" hasSort":"")+"' "+r+' ><span class="text">'+t[o].text+"</span></div>",(isUD(e.resizable)||!0===e.resizable)&&(n+="<div class='cr'></div>"),typeof t[o].groupId!==ud&&(n+=b(t,t[o].id)),n+=_(t[o].sortColNo),n+="</div>"}return n}(t,a)},_=function(e){return typeof e!==ud?'<div class="zSort"><a href="javascript:void(0);" sortColNo="'+e+'" ><span class="sPane">'+a.arrows+"</span></a></div>":""},z=function(e){return typeof e.isFreeze!==ud&&!1!==e.isFreeze},C=function(e){if(typeof e.blankRowsLimit!==ud)for(var t=0;t<e.blankRowsLimit;t++){var a=zsi.getOddEven();g({data:null,panelType:"L",rowClass:a,index:t}),g({data:null,panelType:"R",rowClass:a,index:t})}},x=function(){C(e),y(),w(),a.addClickHighlight(),a.setColumnResize()};if($.each(e.dataRows,function(){(this.groupId>0||typeof this.groupId===ud)&&(typeof this.groupId!==ud&&!1===p&&(p=!0),u.push(this)),z(this)?c.push(this):d.push(this)}),typeof this.isInitiated===ud){var k="<div class=\"zPageFooter\"><div class='pagestatus'>Number of records in a current page : <i id='recordsNum'> 0 </i></div><div class='pagectrl'>"+(isUD(e.rowsPerPage)?"":"<label> No. of Rows: </label> <input id='rpp' name='rpp' type='text' value='"+e.rowsPerPage+"'>")+"<label id='page'> Page </label> <select id='pageNo'></select><label id='of'> of 0 </label></div></div>",N="";c.length>0&&(N+='<div class="zGridPanel left"><div class="zHeaders"></div><div class="zRows"><div id="table"  ></div></div><div class="zFooter"></div></div></div>'),N+='<div class="zGridPanel right"><div class="zHeaders"></div><div class="zRows"><div id="table" ></div></div><div class="zFooter"></div></div></div>',this.params=e,this.url=e.url,this.isInitiated=!0,this.html(N+(typeof e.isPaging!==ud&&!0===e.isPaging?k:"")),e.isAsync=typeof e.isAsync!==ud&&e.isAsync,a.curPageNo=!0===e.isAsync?1:0;var P=this.find(a.clsPanelR),R=this.find(a.clsPanelL);e.columnHeight;for(i=0;i<u.length;i++)s+=u[i].width,z(u[i])?r+=u[i].width:l+=u[i].width;typeof e.startGroupId===ud&&(e.startGroupId=0),t=P.find("#table"),_tableLeft=R.find("#table"),this.css("overflow","hidden").css("width",e.width+"px"),a.find(".zRows").css("height",e.height+"px"),R.css("width",r+"px"),P.css("width",e.width-r-4+"px"),c.length>0&&m({headers:R.find(".zHeaders"),table:_tableLeft,dataTable:c,width:r,startGroupId:e.startGroupId}),m({headers:P.find(".zHeaders"),table:t,dataTable:d,width:l,startGroupId:e.startGroupId})}else R=this.find(".left").find("#table"),t=this.find(".right").find("#table");if(typeof e.isNew!==ud&&!0===e.isNew&&v(),e.url||e.data){(e.isAsync&&1===a.curPageNo||!e.isAsync)&&v();var D={dataType:"json",cache:!1,success:function(n){var i=n.returnValue>0?n.returnValue:0;o=n.rows.length,$.each(n.rows,function(e){var t=zsi.getOddEven();g({data:this,panelType:"L",rowClass:t,index:e}),g({data:this,panelType:"R",rowClass:t,index:e})}),e.isAsync&&a.curPageNo<i?(n.pageNo=a.curPageNo,e.onAsyncComplete&&e.onAsyncComplete(n),a.curPageNo++,a.pageParams=",@pno="+a.curPageNo,a.params.url&&(a.params.url=a.url+a.pageParams+(typeof a.sortParams!==ud?a.sortParams:"")),w(),a.dataBindGrid(a.params)):(x(),a.find("#recordsNum").html(o),typeof a.isPageInitiated===ud&&(a.setPageCtrl(e,n),a.isPageInitiated=!0),a.left&&t.parent().scrollLeft(Math.abs(a.left)),e.isAsync&&e.onAsyncComplete&&(n.pageNo=a.curPageNo,e.onAsyncComplete(n)),a.onRequestDone({params:e,data:n}))}};if(typeof e.data!==ud){if(typeof zsi.config.getDataURL===ud)return void alert("zsi.config.getDataURL is not defined in AppStart JS.");D.url=zsi.config.getDataURL,D.data=JSON.stringify(e.data),D.type="POST"}else D.url=e.url+(isUD(e.rowsPerPage)?"":",@rpp="+e.rowsPerPage);a.bind("refresh",function(){zsi.tmr&&clearTimeout(zsi.tmr),zsi.tmr=setTimeout(function(){a.dataBindGrid(e)},1)}),$.ajax(D)}else typeof e.rows!==ud?($.each(e.rows,function(e){var t=zsi.getOddEven();g({data:this,panelType:"L",rowClass:t,index:e}),g({data:this,panelType:"R",rowClass:t,index:e})}),x(),a.onRequestDone({params:e,data:e.rows})):(isUD(e.blankRowsLimit)&&(e.blankRowsLimit=5),x(),a.onRequestDone({params:e}))},$.fn.deleteData=function(e){for(var t="",a=this.find("input[name='cb']:checked").getCheckBoxesValues(),n=0;n<a.length;n++)""!==t&&(t+="/"),t+=a[n];""!==t&&confirm("Are you sure you want to delete selected items?")&&$.post(base_url+"sql/exec?p=deleteData @pkey_ids='"+t+"',@table_code='"+e.code+"'",function(t){e.onComplete(t)}).fail(function(e){alert("Sorry, the curent transaction is not successfull.")})},$.fn.expandCollapse=function(e){return this.click(function(){var t=this,a=$(this).find("span");a.attr("class").indexOf("down")>-1?a.removeClass("glyphicon glyphicon-collapse-down").addClass("glyphicon glyphicon-collapse-up"):a.removeClass("glyphicon glyphicon-collapse-up").addClass("glyphicon glyphicon-collapse-down");var n=$(this.parentNode.parentNode);if(typeof n.attr("extrarow")===ud)n.attr("extrarow","1"),n.after("<tr class='trOpen extraRow "+n.attr("class")+"'> <td colspan='"+n.find("td").length+"'> "+e.onInit(t)+" </td></tr>"),e.onAfterInit(n.next());else{var o=n.next();o.attr("class").indexOf("trOpen")>-1?o.removeClass("trOpen").addClass("trClose"):o.removeClass("trClose").addClass("trOpen")}}),this},$.fn.fillSelect=function(e){var t=this;return typeof e.isRequired===ud&&(e.isRequired=!1),typeof e.required!==ud&&(e.isRequired=e.required),typeof e.selectedValue===ud&&(e.selectedValue=""),this.clearSelect(),!1===e.isRequired&&t.append("<option></option>"),$.each(e.data,function(a,n){var o=typeof this.value2===ud?"":' value2="'+this.value2+'"',i="",s="";typeof e.text!==ud&&typeof e.value!==ud?(s=this[e.value],i=this[e.text]):(s=this.value,i=this.text),t.append("<option "+o+' value="'+s+'">'+i+" </option>")}),$(this).change(function(){var t=$(this);isUD(e.onChange)||(t.__onChange=e.onChange,t.__onChange({index:$(this).find(":selected").index(),data:e.data,row:$(this).closest(".zRow")}))}),setTimeout(function(){$.each(t,function(){var t=$(this).attr("selectedvalue");$.each($(this).find("option"),function(){(t?this.value===t:this.value===e.selectedValue)&&$(this).prop("selected",!0)})}),e.onComplete&&(t.__onComplete=e.onComplete,t.__onComplete(e.data))},10),this},$.fn.getCheckBoxesValues=function(){var e=arguments,t=e?e[0]:"input[type=hidden]",a=[];return this&&$.each(this,function(){a.push($(this.parentNode).children(t).val())}),a},$.fn.jsonSubmit=function(e){var t={type:"POST",url:typeof e.url!==ud?e.url:base_url+"data/update",data:JSON.stringify(this.hasClass("zGrid")>0?this.toJSON2(e):this.toJSON(e)),contentType:"application/json"};void 0!==e.onError&&(t.error=e.onError),void 0!==e.onComplete&&(t.success=e.onComplete),$.ajax(t)},$.fn.loadData=function(e){var t=this;zsi.__setTableObjectsHistory(t,e);var a=typeof e.onEachComplete!==ud;if(a){var n=e.onEachComplete.toString();args=n.replace(/((\/\/.*$)|(\/\*[\s\S]*?\*\/)|(\s))/gm,"").match(/^function\s*[^\(]*\(\s*([^\)]*)\)/m)[1].split(/,/);args.length<1&&console.warn("you must implement these parameters: tr,data")}if(typeof e.sortIndexes!==ud&&!1===zsi.__getTableObject(t).isInitiated){var o=e.sortIndexes,i=t.find("thead th");0===i.length&&console.log("No THead found.");for(var s="<span class='arrow-up'></span>",r="<span class='arrow-down'></span>",l=s+r,d=0;d<o.length;d++){var c=i[o[d]];$(c).append("<span class='zSort'><a href='javascript:void(0);'><span class='sPane'>"+l+"</span></a></span>")}var u=t.find(".zSort a"),p=e.url;u.click(function(){var a=u.index(this);zsi.table.sort.colNo=o[a];this.text;$(".sPane").html(l);var n=$(this).attr("class");typeof n===ud?(u.removeAttr("class"),$(this).addClass("asc"),$(this).find(".sPane").html(s)):n.indexOf("asc")>-1?($(this).removeClass("asc"),$(this).addClass("desc"),$(this).find(".sPane").html(r),zsi.table.sort.orderNo=1):($(this).removeClass("desc"),$(this).addClass("asc"),$(this).find(".sPane").html(s),zsi.table.sort.orderNo=0),zsi.table.__sortParameters="@col_no="+zsi.table.sort.colNo+",@order_no="+zsi.table.sort.orderNo,e.url=(p.indexOf("@")<0?p+" ":p+",")+zsi.table.__sortParameters+(""===zsi.table.__pageParameters?"":","+zsi.table.__pageParameters),t.loadData(e)})}var f=t,h=0,v=function(t){var n="";n+="<tr rowObj class='"+zsi.getOddEven()+"'>";for(var o=0;o<e.td_body.length;o++){var i="";typeof e.td_properties!==ud&&typeof e.td_properties[o]!==ud&&(i=e.td_properties[o]);var s="",r="",l="",d="";t&&(t.td={}),e.td_body[o]?s=e.td_body[o](t):console.log("%cArray item is not a function under td_body[]","color:red;"),t&&(r=typeof t.td.attr===ud?"":t.td.attr,l=typeof t.td.style===ud?"":style=' style="'+t.td.style+'" ',d=typeof t.td.class===ud?"":style=' class="'+t.td.class+'" '),n+="<td "+i+r+l+d+" >"+s+"</td>"}n+="</tr>",f.append(n);var c=$("tr[rowObj]");c.removeAttr("rowObj"),a&&e.onEachComplete(c,t)};if(typeof e.isNew!==ud&&1==e.isNew&&f.clearGrid(),e.url||e.data){f.find("thead").length>0&&f.clearGrid();var m={dataType:"json",cache:!1,success:function(a){h=a.rows.length,typeof e.td_body!==ud&&$.each(a.rows,function(){v(this)}),t.find("#recordsNum").html(h),typeof zsi.page.__pageNo!==ud&&null!==zsi.page.__pageNo||(zsi.page.__pageNo=1,zsi.__setPageCtrl(e,e.url,a,t)),zsi.__getTableObject(t).isInitiated=!0,t.addClickHighlight(),e.onComplete&&e.onComplete(a)}};if(typeof e.data!==ud){if(typeof zsi.config.getDataURL===ud)return void alert("zsi.config.getDataURL is not defined in AppStart JS.");m.url=zsi.config.getDataURL,m.data=JSON.stringify(e.data),m.type="POST"}else m.url=e.url;t.bind("refresh",function(){zsi.tmr&&clearTimeout(zsi.tmr),zsi.tmr=setTimeout(function(){t.loadData(e)},1)}),$.ajax(m)}else if(typeof e.rows!==ud)typeof e.td_body!==ud&&$.each(e.rows,function(){v(this)}),e.onComplete&&e.onComplete(data),t.addClickHighlight();else{typeof e.blankRowsLimit===ud&&(e.blankRowsLimit=5);for(var g=0;g<e.blankRowsLimit;g++)v();typeof e.onEachComplete===ud&&e.onComplete&&e.onComplete(),t.addClickHighlight()}},$.fn.loadMonths=function(){var e=this[0];e.add(new Option(" ",""),null);for(var t=["January","February","March","April","May","June","July","August","September","October","November","December"],a=0;a<12;a++){var n=new Option(t[a],a+1);e.add(n,null)}},$.fn.serializeExclude=function(e){var t=this.serializeArray(),a="";return $.each(t,function(t,n){-1==$.inArray(n.name.toLowerCase(),e)&&(a+=""==a?n.name+"="+n.value:"&"+n.name+"="+n.value)}),a},$.fn.setEventOnTRClickForSelection=function(e){this.find("tbody  > tr > td:not(:nth-child(1))").each(function(){var e=this.parentNode,t=$(e).css("cursor","pointer").find("input[type='radio'],input[type='checkbox']");this.onclick=function(){"checkbox"===t.attr("type")?t.prop("checked",!t.prop("checked")):t.prop("checked",!0),t.change()}})},$.fn.setCheckEvent=function(e){var t=this;if(0!==t.length){var a;if(a=typeof e!==ud?$(e):this.parent().parent().parent().parent().find("input[name='cb']"),this.prop("checked",!1),t.change(function(){this.checked?a.prop("checked",!0).change():a.prop("checked",!1).change()}),a.length>0){var n=function(){var e=0;a.each(function(){this.checked||e++}),0===e&&t.prop("checked",!0)};a.change(function(){!1===this.checked?t.prop("checked",!1):n()}),n()}}else console.log(t.selector+" not found.")},$.fn.setCloseModalConfirm=function(){var e=$._data(this.get(0),"events");typeof e!==ud&&typeof e.hide!==ud||this.on("hide.bs.modal",function(e){return!("INPUT"===e.target.tagName.toUpperCase()||!confirm("You are about to close this window. Continue?"))})},$.fn.setIdIfChecked=function(e,t){$(this).find("input[name='cb']").change(function(){var a=this.parentNode,n=$(a).find("#"+t);this.checked?n.val(e):n.val("")})},$.fn.setUniqueOptions=function(){function e(){var e=o();i(e)}var t=[],a=this,n=function(e,t){for(var a=!1,n=0;n<t.length;n++)if(t[n].value==e.value){a=!0;break}!1===a&&t.push({value:e.value,text:e.text})},o=function(){return selectedData=[],a.each(function(){""!==this.value&&n({value:this.value,text:this.options[this.selectedIndex].text},selectedData)}),selectedData},i=function(e){for(var o=[],i=0;i<t.length;i++){for(var s=!1,r=0;r<e.length;r++)if(t[i].value===e[r].value){s=!0;break}!1===s&&n(t[i],o)}a.each(function(){var e=this;if(""===this.value)$(this).clearSelect(),this.add(new Option("",""),null),$.each(o,function(){var t=new Option(unescape(this.text),this.value);e.add(t,null)});else{var t={value:this.value,text:this.options[this.selectedIndex].text};$(this).clearSelect(),e.add(new Option("",""),null),e.add(new Option(t.text,t.value),null),$.each(o,function(){var t=new Option(unescape(this.text),this.value);e.add(t,null)}),$(this).val(t.value)}})};return $(a).children("option").each(function(){""!==this.value&&t.push({value:this.value,text:this.innerHTML})}),this.change(function(){e()}),e(),this},$.fn.showAlert=function(e){var t=this,a=1500;t.show(),isUD(e)||(e.top&&t.css({left:e.left,top:e.top}),e.center&&t.center(),e.time&&(a=e.time)),setTimeout(function(){t.hide("slow"),isUD(e.onHide)||e.onHide()},a)},$.fn.showPopup=function(e){var t;isUD(e.id)?(t=this.data("ctr")+1||1,this.data("ctr",t)):t=e.id;var a="popup"+t,n="#"+a;return this.find(n).remove(),this.append('<div id="'+a+'" class="zPopup overlay"><div class="panel"><div class="header"><h2>'+(e.title?e.title:"")+'</h2><a class="close" href="javascript:void(0);" id="close">&times;</a></div><div class="content"><div class="body">'+e.body+"</div></div></div></div>"),$p=this.find(n),$p.css({visibility:"visible",opacity:1,"z-index":zsi.getHighestZindex()+1}),$p.find("#close").click(function(t){$(this).closest(".zPopup").remove(),typeof e.onClose!==ud&&e.onClose(this,e)}),this},$.fn.toJSON=function(e){typeof e===ud&&(e={});for(var t=this.find("input, textarea, select").not(":checkbox").not(typeof e.notInclude!==ud?e.notInclude:"").serializeArray(),a=[],n=[],o=0;o<t.length;o++)-1==n.indexOf(t[o].name)&&n.push(t[o].name);for(o=0;o<t.length;o++){for(var i={},s=[],r=0;r<n.length;r++){typeof t[o+r]===ud&&function(e){var t=[];alert("insufficient parameters."),$.each(e,function(){t.isExists({keyName:"name",value:this.name})||t.push({name:this.name})}),console.log("parameters found: "+t.length),$.each(t,function(){var t=e.findIndexes({keyName:"name",value:this.name});console.log(this.name+":"+t.length)})}(t);var l=t[o+r].name;i[l]=t[o+r].value||null,function(e,t){return typeof e.optionalItems!==ud&&-1!==e.optionalItems.indexOf(t)}(e,l)||s.push(""===t[o+r].value)}for(var d=0,c=0;c<s.length;c++)s[c]&&d++;d!==s.length&&a.push(i),o+=n.length-1}return typeof e.procedure!==ud&&(a={procedure:e.procedure,rows:a}),a},$.fn.toJSON2=function(e){typeof e===ud&&(e={});var t=function(e,t){return typeof e.optionalItems!==ud&&-1!==e.optionalItems.indexOf(t)},a=[],n=this;$.each(this.find(".right .zRow"),function(t){var o=$(this),i=n.find(".left .zRow:eq("+t+")").find("input, textarea, select").not(":checkbox").not(typeof e.notInclude!==ud?e.notInclude:"").serializeArray(),s=o.find("input, textarea, select").not(":checkbox").not(typeof e.notInclude!==ud?e.notInclude:"").serializeArray(),r={};$.each(i,function(){r[this.name]=""===this.value?null:this.value}),$.each(s,function(){r[this.name]=""===this.value?null:this.value}),Object.keys(r).length>0&&a.push(r)});var o=Object.keys(a[0]),i=Object.keys(a[a.length-1]);if(o.length!==i.length){var s=[],r=[];console.log("Count Properties( Upper Bound Rows = "+o.length+" : Lower Bound Rows = "+i.length+")");for(l=0;l<i.length;l++)o.indexOf(i[l])<0&&r.push(i[l]);for(var l=0;l<o.length;l++)i.indexOf(o[l])<0&&s.push(o[l]);r.length>0&&console.log({notExistInRows:r}),s.length>0&&console.log({notExistInBlankRows:s})}var d=Object.keys(a[0]),c=[];return $.each(a,function(){for(var a=this,n=0,o=0;o<d.length;o++)t(e,d[o])||null!==a[d[o]]&&""!==a[d[o]]||(n+=1);n!==d.length-(typeof e.optionalItems!==ud?e.optionalItems.length:0)&&c.push(this)}),a=c,typeof e.procedure!==ud&&(a={procedure:e.procedure,rows:a}),typeof e.parentId!==ud&&(a.parentId=e.parentId),a}},__setPageCtrl:function(e,t,a,n){for(var o=a.returnValue,i="",s=1;s<=o;s++)i+="<option value='"+s+"'>"+s+"</option>";var r="<div class='pagestatus'>Number of records in a current page : <i id='recordsNum'> "+a.rows.length+" </i></div>";r+="<div class='pagectrl'><label id='page'> Page </label> <select id='pageNo'>"+i+"</select>",r+="<label id='of'> of "+o+" </label></div>",n.find(".pageholder").html(r),n.find(".pagectrl #pageNo").change(function(){zsi.table.__pageParameters="@pno="+this.value,e.url=t+(t.indexOf("@")>-1?",":"")+(""===zsi.table.__sortParameters?"":zsi.table.__sortParameters+",")+zsi.table.__pageParameters,n.loadData(e)})},__setPrototypes:function(){String.prototype.isValidDate=function(){return isValidDate(this)},String.prototype.toShortDate=function(){if(!isValidDate(this))return"";var e=new Date(Date.parse(this)),t=e.getMonth()+1+"",a=e.getDate()+"";return t=1==t.length?"0"+t:t,a=1==a.length?"0"+a:a,t+"/"+a+"/"+e.getFullYear()},String.prototype.toShortDateTime=function(){if(!isValidDate(this))return"";var e=new Date(Date.parse(this)),t=e.getHours(),a=e.getMinutes(),n=t>=12?"PM":"AM",o=(t=(t%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+n;return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()+" "+o},String.prototype.toDateFormat=function(){return this.toShortDate()},String.prototype.toMDateTimeFormat=function(){var e=Date.parse(this);if(!1!==isNaN(e))return"";var t=new Date(e),a=function(e){return e>9?""+e:"0"+e};return this.toShortDate()+" "+a(t.getHours())+":"+a(t.getMinutes())+":"+a(t.getSeconds())},String.prototype.toMoney=function(){var e="";return!1===isNaN(this)&&(e=parseFloat(this).toMoney()),e},String.prototype.toJSON=function(){var e=null;return""!==this&&(e=$.parseJSON(this)),e},String.prototype.nl2br=function(){return this.replace(/\n/g,"<br />")},Array.prototype.findIndexes=function(e){var t=[];return $.each(this,function(a){if(this[e.keyName]===e.value)return t.push(a),!0}),t},Array.prototype.isExists=function(e){var t=!1;return $.each(this,function(){if(this[e.keyName]===e.value)return t=!0,!1}),t},Array.prototype.createNewCopy=function(){return $.extend(!0,{},this)},Array.prototype.removeAttr=function(e){$.each(this,function(){delete this[e]})},Number.prototype.toMoney=function(){return this.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}},__setTableObjectsHistory:function(e,t){var a=zsi.__tableObjectsHistory,n=!1;if(0!==e.length){for(var o=0;o<a.length;o++)if(a[o].tableName.toLowerCase()===e.attr("id").toLowerCase()){n=!0;break}n||(t.isInitiated=!1,a.push({tableName:e.attr("id"),value:t}))}else console.log("table not defined. url:"+t.url)},__tableObjectsHistory:[],bs:{ctrl:function(e){var t="input",a=typeof e.id!==ud?e.id:e.name,n=' name="'+e.name+'" id="'+a+'"',o=' type="text"',i=' class="form-control '+(typeof e.class!==ud?e.class:"")+'" ',s="",r="",l="",d="",c="",u=typeof e.style===ud?"":' style="'+e.style+'"';if(typeof e.value!==ud&&(r=' value="'+e.value+'"'),typeof e.checked!==ud&&e.checked&&(c=" checked "),typeof e.type!==ud){var p=e.type.toLowerCase();if("yesno"==p)return function(e){var t="N",a="",n='class="form-control"';return typeof e.class!==ud&&(n='class="'+e.class+'"'),a+='<select name="'+e.name+'" id="'+e.name+'" '+n+">",typeof e.value!==ud&&(t=e.value),typeof e.mandatory!==ud&&"n"==e.mandatory.toLowerCase()&&(a+='<option value=""></option>'),a+="<option "+("Y"==t?"selected":"")+' value="Y">Yes</option>',a+="<option "+("N"==t||""==t?"selected":"")+' value="N">No</option>',a+="</select>"}(e);if("ddl"==p)return"<input type='hidden' "+n+" "+r+"><span id='text'>"+e.displayText+"</span> <div class='zDdlBtn' ><span class='caret'></span></div>";o=' type="'+e.type+'"',"hidden"==p&&(i=""),"hidden"!=p&&"input"!=p&&"checkbox"!=p&&"password"!=p&&"email"!=p&&"radio"!=p&&(t=p),"select"==p||"textarea"==p?(o="",s="</"+t+">","select"==p&&(l="<option></option>",typeof e.value!==ud&&(r="",d=""!==e.value?" selectedvalue='"+e.value+"'":"")),"textarea"==e.type&&typeof e.value!==ud&&(r="",l=e.value)):"input"==p&&(o=' type="text"')}return"<"+t+n+o+c+i+r+d+u+">"+l+s},button:function(e){var t="",a=' class="btn btn-primary btn-sm"',n=' type="button"',o="";switch(typeof e.type!==ud&&(n=' type="'+e.type+'"'),typeof e.class!==ud&&(a=' class="'+e.class+'"'),typeof e.onclick!==ud&&(o=' onclick="'+e.onclick+'"'),e.name.toLowerCase()){case"search":t="search";break;case"add":case"new":t="plus-sign";break;case"delete":t="trash";break;case"close":t="off";break;case"save":t="floppy-disk";break;case"reset":t="retweet";break;case"login":t="log-in"}var i='<span class="glyphicon glyphicon-'+t+'"></span>';return'<button id="btn'+e.name+'" '+a+n+o+">"+i+" "+e.text+"</button>"}},calendar:{},config:{},control:{},form:{__checkMandatory:function(e,t,a){var n,o=e.names,i=t.titles,s=[];zsi.form.__objMandatoryGroupIndexValues[a]="N";for(d=0;d<o.length;d++)if((c=document.getElementsByName(o[d])).length>1)for(var r=0,l=0;l<c.length;l++)"hidden"!=c[l].type&&(n||(n=c[l]),""!==$.trim(c[l].value)&&(s[r]=l,r++,zsi.form.__objMandatoryGroupIndexValues[a]="Y"));else if(c[0]&&(c[0].value===ud||""===$.trim(c[0].value)))return c[0].focus(),alert("Enter "+i[d]+"."),!1;if("M"==e.type){if(e.required_one&&"Y"==e.required_one&&0===s.length)return alert("Please enter at least 1 record."),n&&n.focus(),!1;for(var d=0;d<o.length;d++){var c=document.getElementsByName(o[d]);if(c.length>1)for(l=0;l<s.length;l++)if("hidden"!=c[s[l]].type&&""===$.trim(c[s[l]].value))return c[s[l]].focus(),alert("Enter "+i[d]+"."),!1}}return!0},__objMandatory:null,__objMandatoryGroupIndexValues:[],checkNumber:function(e){var t,a,n="";for(i=1;i<arguments.length;i++)n+=arguments[i];if(window.event)t=e.keyCode;else{if(!e.which)return!0;if(8==(t=e.which))return!0;if("91"==String.charCodeAt(t))return!0}return a=String.fromCharCode(t),-1!=n.indexOf(a)||/\d/.test(a)},isValidNumberFormat:function(e){var t=/(?=.)^\$?(([1-9][0-9]{0,2}(,[0-9]{3})*)|[0-9]+)?(\.[0-9]{1,4})?$/,a=e.value;if(""!==a)return!!t.test(a)},checkNumberFormat:function(e){zsi.form.isValidNumberFormat(e)||(alert("Please enter a valid number format."),setTimeout(function(){e.focus()},0))},checkMandatory:function(){var e=zsi.form.__objMandatory;if(typeof e===ud)return!0;for(o=0;o<e.groupNames.length;o++)if(!zsi.form.__checkMandatory(e.groupNames[o],e.groupTitles[o],o))return!1;if(e.required_one_indexes){for(var t=e.required_one_indexes,a=zsi.form.__objMandatoryGroupIndexValues,n=0,o=0;o<t.length;o++)for(var i=0;i<a.length;i++)t[o]==i&&"N"==a[i]&&n++;if(t.length==n)return alert("Please enter at least one record."),!1}return!0},markMandatory:function(e){function t(e){jo=$(e),typeof jo.val()===ud||""===jo.val()?jo.addClass("mandatory"):jo.removeClass("mandatory")}$("input,select,textarea").not("[type=hidden]").each(function(){}),zsi.form.__objMandatory=e;for(o=0;o<e.groupNames.length;o++)if(e.groupNames[o].names.length!=e.groupTitles[o].titles.length)return alert("Error!, parameters are not equal."),!1;for(var a,n=0;n<e.groupNames.length;n++){a=e.groupNames[n].names;for(var o=0;o<a.length;o++)if(1==document.getElementsByName(a[o]).length){var i=$("#"+a[o]);t(i[0]),i.on("change keyup blur",function(){t(this)})}else $("*[name='"+a[o]+"'][type!=hidden]").each(function(){t(this),$(this).on("change keyup blur",function(){$(this).val(),$("*[name='"+this.name+"'][type!=hidden]").each(function(){t(this)})})})}},checkDate:function(e,t){for(var a=0;a<e.length;a++){var n=document.getElementsByName(e[a]);if(n.length>1){for(var o=0;o<n.length;o++)if("hidden"!=n[o].type&&""!=$.trim(n[o].value)&&1!=isValidDate(n[o].value))return alert(t[a]+" must be in [mm/dd/yyyy] format."),n[o].focus(),!1}else if(n[0]&&""!=$.trim(n[0].value)&&1!=isValidDate(n[0].value))return alert(t[a]+" must be in [mm/dd/yyyy] format."),n[0].focus(),!1}return!0},setCriteria:function(e,t,a){var n=$(e);return"SELECT"==n.prop("tagName")?n.find(":selected").text()&&(""!=a&&(a+=", "),a+=t+": "+n.find(":selected").text()):n.val()&&(""!=a&&(a+=", "),a+=t+":"+n.val()),a},showAlert:function(e){var t=$("."+e);t.center(),t.show(),setTimeout(function(){t.hide("slow")},500)},displayLOV:function(e){var t=[];typeof e.show_checkbox===ud&&(e.show_checkbox=!0),t.push(function(t){var a="ud"==typeof t,n='<input name="p_'+e.params[0]+'[]"  type="hidden"  value="'+(!0!==a?t[e.params[0]]:"")+'"><input name="p_'+e.params[1]+'[]" type="hidden" value="'+(!0!==a?t[e.params[1]]:"")+'" ><input name="p_isCheck[]" type="hidden" value="'+(!0!==a?t[e.params[0]]?1:0:"")+'" >';return 1==e.show_checkbox&&(n+='<input name="p_cb[]" onclick="clickCB(this);" class="" type="checkbox" '+(!0!==a&&t[e.params[0]]?"checked":"")+">"),n}),t=t.concat(e.column_data);var a={table:e.table,td_body:t};typeof e.url!==ud&&(a.url=e.url),typeof e.limit!==ud&&(a.limit=e.limit),typeof e.onComplete!==ud&&(a.onComplete=e.onComplete),typeof e.isNew!==ud&&(a.isNew=e.isNew),typeof e.td_properties!==ud&&(a.td_properties=e.td_properties),$(a.table).loadData(a),clickCB=function(e){var t=e.parentNode;0==e.checked?$(t).children("input[name='p_isCheck[]']").val(0):$(t).children("input[name='p_isCheck[]']").val(1)}},deleteData:function(e){for(var t="",a=zsi.table.getCheckBoxesValues("input[name='cb']:checked"),n=0;n<a.length;n++)""!==t&&(t+="/"),t+=a[n];""!==t&&confirm("Are you sure you want to delete selected items?")&&$.post(base_url+"sql/exec?p=deleteData @pkey_ids='"+t+"',@table_code='"+e.code+"'",function(t){e.onComplete(t)}).fail(function(e){alert("Sorry, the curent transaction is not successfull.")})}},getHighestZindex:function(){var e="*",t=arguments;typeof t[0]!==ud&&(e=t[0]);var a=-999;return $(e).each(function(){var e=parseInt($(this).css("z-index"),10);e&&a<e&&(a=e)}),a},getOddEven:function(){return typeof zsi.__oe===ud&&(zsi.__oe="odd"),zsi.__oe="odd"===zsi.__oe?"even":"odd",zsi.__oe},getTableLayoutsObjects:function(e,t){var a=function(e){for(var t={},a=Object.keys(e),n=0;n<a.length;n++){var o=a[n];""!==e[o]&&(t[o]=e[o])}return t};$.get(base_url+"sql/proc?p=table_layout_sel @code='"+e+"'",function(e){if(e.rows.length>0){var n=e.rows[0],o=a(n);o.onComplete=new Function("d",o.onComplete),$.get(base_url+"sql/proc?p=table_layout_cols_sel @tableLayoutId='"+o.tableLayoutId+"'",function(e){if(e.rows.length>0){var n=[];$.each(e.rows,function(){this.onRender&&(this.onRender=new Function("d",this.onRender)),n.push(a(this))}),o.dataRows=n,t(o)}else t(null)})}})},getUrlParamValue:function(e){var t=window.location.href;if(e=e.toLowerCase(),t.indexOf("?")>-1){var a=t.split("?")[1];if(a.indexOf("&")>-1){for(var n=a.split("&"),o=0;o<n.length;o++)if((i=n[o].split("="))[0].toLowerCase()==e.toLowerCase())return i[1]}else{var i=a.split("=");if(i[0].toLowerCase()==e.toLowerCase())return i[1]}}return""},init:function(e){zsi.config=e,zsi.__monitorAjaxResponse()},initDatePicker:function(){var e=$("input[id*=date]").not("input[type='hidden']");e.attr("placeholder","mm/dd/yyyy"),e.keyup(function(){2!=this.value.length&&5!=this.value.length||(this.value+="/")}),e.length>0&&e.datepicker({format:"mm/dd/yyyy",autoclose:!0,daysOfWeekDisabled:[0,6]}).on("show",function(e){$(".datepicker").css("z-index",zsi.getHighestZindex()+1)})},json:{groupByColumnIndex:function(e,t){var a={},n=[];return $.each(e.rows,function(){var e=this.data[t];-1==$.inArray(e,n)&&(n.push(e),a[e]=[]),a[e].push(this.data)}),a}},page:{__object:null,__PageNo:null,__tURL:null,clearPaging:function(){zsi.page.__pageNo=null},DisplayRecordPage:function(e,t,a){var n=Math.ceil(t/25),o=25*(e-1)+1,i=parseInt(o)+parseInt(a)-1,s=$("select[name=p_page_no]");s.clearSelect();for(var r=0;r<n;r++){e==r+1?s.append("<option selected value='"+(r+1)+"'>"+(r+1)+"</option>"):s.append("<option value='"+(r+1)+"'>"+(r+1)+"</option>")}$("#of").html(" of "+n),$(".pagestatus").html("Showing records from <i>"+o+"</i> to <i>"+i+"</i>")}},url:{getQueryValue:function(e,t){e=e.toString().toLowerCase(),t=t.toLowerCase();var a=e.indexOf("?");if(a>-1&&(e=e.substr(a+1)),e.indexOf("&")>-1){for(var n=e.split("&"),o=0;o<n.length;o++)if((i=n[o].split("="))[0]==t)return i[1]}else{var i=e.split("=");if(i[0]==t)return i[1]}return""},removeQueryItem:function(e,t){e=e.toString().toLowerCase(),t+="".toLowerCase();var a=e.indexOf("?");a>-1&&(e=e.substr(a+1));var n="";if(e.indexOf("&")>-1)for(var o=e.split("&"),i=0;i<o.length;i++)o[i].split("=")[0]!=t&&(n&&(n+="&"),n+=o[i]);return n}},table:{__pageParameters:"",__sortParameters:"",getCheckBoxesValues:function(){var e,t=arguments,a=null;switch(t.length){case 1:var n=[],o=0;e=t[0],$(e).each(function(){n[o]=$(this.parentNode).children("input[type=hidden]").val(),o++}),a=n;break;case 3:var i="";e=t[0];var s=t[1],r=t[2];$(e).each(function(){var e=$(this.parentNode).children("input[type=hidden]").val();e==ud&&(e=this.value),""!==i&&(i+=r),i=i+s+e}),a=i}return a},setCheckBox:function(e,t){var a=$(e.parentNode).children("input[type=hidden]");"hidden"==a.attr("type")?e.checked?a.val(t):a.val(""):alert("input[type=hidden] not found")},sort:{colNo:1,orderNo:0}},tmr:null,toDate:function(e){return e},toggleExtraRow:function(e){var t=$(e.object).find("span"),a=$("#childPanel"+e.parentId);a.toggle(500,function(){a.is(":visible")?t.removeClass("glyphicon glyphicon-collapse-down").addClass("glyphicon glyphicon-collapse-up"):t.removeClass("glyphicon glyphicon-collapse-up").addClass("glyphicon glyphicon-collapse-down")}),a.hasClass("loaded")||(a.addClass("loaded"),isUD(e.onLoad)||e.onLoad($("#childPanel"+e.parentId+" .zGrid")))},setValIfNull:function(e,t,a){var n=typeof a!==ud?a:"";return e&&typeof e[t]!==ud?e[t]:n},ShowHideProgressWindow:function(e){var t=$(".progressWindow");e?(t.centerWidth(),t.css("display","block")):t.hide()},ShowErrorWindow:function(){var e=$(".errorWindow");e.centerWidth(),e.css("display","block"),e.css("z-index",zsi.getHighestZindex()+1),setTimeout(function(){e.hide("slow")},5e3)},initInputTypesAndFormats:function(){$(".numeric").keypress(function(e){return zsi.form.checkNumber(e,".,")}),$(".format-decimal").blur(function(){zsi.form.checkNumberFormat(this)})},strExist:function(e,t){var a=!1;return e.toLowerCase().indexOf(t.toLowerCase())>-1&&(a=!0),a}},isValidDate=function(e){var t=Date.parse(e);return!1===isNaN(t)};zsi.__setPrototypes(),zsi.__setExtendedJqFunctions(),$(document).ready(function(){zsi.initDatePicker(),zsi.__initTabNavigation(),zsi.__initFormAdjust(),zsi.initInputTypesAndFormats()});